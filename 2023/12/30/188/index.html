<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/avatar.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.24/fancybox/fancybox.css" integrity="sha256-vQkngPS8jiHHH0I6ABTZroZk8NPZ7b+MUReOFE9UsXQ=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"qeuroal.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Linux用户管理与用户组管理">
<meta property="og:type" content="article">
<meta property="og:title" content="188. Linux用户与用户组">
<meta property="og:url" content="http://qeuroal.top/2023/12/30/188/index.html">
<meta property="og:site_name" content="Qeuroal&#39;s Blog">
<meta property="og:description" content="Linux用户管理与用户组管理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://qeuroal.top/2023/12/30/188/640-20240110082317029.png">
<meta property="og:image" content="http://qeuroal.top/2023/12/30/188/640-20240110082613399.png">
<meta property="article:published_time" content="2023-12-30T01:10:00.000Z">
<meta property="article:modified_time" content="2025-12-08T06:36:58.587Z">
<meta property="article:author" content="Qeuroal">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qeuroal.top/2023/12/30/188/640-20240110082317029.png">


<link rel="canonical" href="http://qeuroal.top/2023/12/30/188/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://qeuroal.top/2023/12/30/188/","path":"2023/12/30/188/","title":"188. Linux用户与用户组"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>188. Linux用户与用户组 | Qeuroal's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Qeuroal's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">静幽正治</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%94%A8%E6%88%B7"><span class="nav-number">1.</span> <span class="nav-text">用户</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%94%A8%E6%88%B7"><span class="nav-number">1.1.</span> <span class="nav-text">3种类型的用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E4%B8%AD%E5%B8%B8%E7%94%A8linux%E5%91%BD%E4%BB%A4"><span class="nav-number">1.2.</span> <span class="nav-text">操作中常用linux命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E8%BF%9B%E7%A8%8B%E7%94%A8%E6%88%B7ID"><span class="nav-number">1.2.1.</span> <span class="nav-text">检查进程用户ID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E6%89%80%E6%9C%89%E8%80%85"><span class="nav-number">1.2.2.</span> <span class="nav-text">根据用户名列出目录所有者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7ID%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E6%89%80%E6%9C%89%E8%80%85"><span class="nav-number">1.2.3.</span> <span class="nav-text">根据用户ID列出目录所有者</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E8%B4%A6%E5%8F%B7"><span class="nav-number">1.3.</span> <span class="nav-text">添加账号</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#useradd"><span class="nav-number">1.3.1.</span> <span class="nav-text">useradd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adduser"><span class="nav-number">1.3.2.</span> <span class="nav-text">adduser</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%88%AB"><span class="nav-number">1.3.3.</span> <span class="nav-text">区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QA"><span class="nav-number">1.3.4.</span> <span class="nav-text">QA</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%B8%90%E5%8F%B7"><span class="nav-number">1.4.</span> <span class="nav-text">删除帐号</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#userdel"><span class="nav-number">1.4.1.</span> <span class="nav-text">userdel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deluser"><span class="nav-number">1.4.2.</span> <span class="nav-text">deluser</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7"><span class="nav-number">1.5.</span> <span class="nav-text">修改用户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#usermod-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.1.</span> <span class="nav-text">usermod 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E6%AC%A1%E8%A6%81%E7%BB%84"><span class="nav-number">1.5.2.</span> <span class="nav-text">添加用户到次要组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E6%AC%A1%E8%A6%81%E7%BB%84-%E6%96%B9%E6%B3%952"><span class="nav-number">1.5.3.</span> <span class="nav-text">添加用户到次要组-方法2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%B8%BB%E8%A6%81%E7%BB%84"><span class="nav-number">1.5.4.</span> <span class="nav-text">修改用户主要组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="nav-number">1.5.5.</span> <span class="nav-text">修改用户信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AE%B6%E7%9B%AE%E5%BD%95"><span class="nav-number">1.5.6.</span> <span class="nav-text">修改用户家目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E9%BB%98%E8%AE%A4%E7%99%BB%E5%BD%95-Shell"><span class="nav-number">1.5.7.</span> <span class="nav-text">修改用户默认登录 Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#usermod-%E5%91%BD%E4%BB%A4%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7UID"><span class="nav-number">1.5.8.</span> <span class="nav-text">usermod 命令修改用户UID</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D"><span class="nav-number">1.6.</span> <span class="nav-text">修改用户名</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E6%9C%89%E6%95%88%E6%9C%9F%E9%99%90"><span class="nav-number">1.6.1.</span> <span class="nav-text">设置用户有效期限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%81%E5%AE%9A%E5%92%8C%E8%A7%A3%E9%94%81%E7%94%A8%E6%88%B7%E5%B8%90%E6%88%B7"><span class="nav-number">1.6.2.</span> <span class="nav-text">锁定和解锁用户帐户</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7"><span class="nav-number">1.7.</span> <span class="nav-text">超级用户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81-sudo-%E6%9D%83%E9%99%90"><span class="nav-number">1.7.1.</span> <span class="nav-text">验证 sudo 权限</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7"><span class="nav-number">1.8.</span> <span class="nav-text">查看所有用户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B-etc-passwd-%E6%9D%A5%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E7%94%A8%E6%88%B7"><span class="nav-number">1.8.1.</span> <span class="nav-text">查看 &#x2F;etc&#x2F;passwd 来查看系统中的用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-getent-passwd-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7"><span class="nav-number">1.8.2.</span> <span class="nav-text">使用 getent passwd 查看用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-compgen-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7"><span class="nav-number">1.8.3.</span> <span class="nav-text">使用 compgen 查看用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E5%88%97%E5%87%BA%E7%94%A8%E6%88%B7%E5%90%8D"><span class="nav-number">1.8.4.</span> <span class="nav-text">只列出用户名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E6%9F%90%E4%B8%AA%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E5%B7%B2%E5%AD%98%E5%9C%A8%E4%BA%8E%E7%B3%BB%E7%BB%9F%E4%B8%AD"><span class="nav-number">1.8.5.</span> <span class="nav-text">检查某个用户是否已存在于系统中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E5%9C%A8%E7%BA%BF%E7%94%A8%E6%88%B7"><span class="nav-number">1.8.6.</span> <span class="nav-text">列出所有在线用户</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-number">2.</span> <span class="nav-text">用户组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-number">2.1.</span> <span class="nav-text">添加用户组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#groupadd-%E5%91%BD%E4%BB%A4"><span class="nav-number">2.1.1.</span> <span class="nav-text">groupadd 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groupadd-%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%E7%BB%84"><span class="nav-number">2.1.2.</span> <span class="nav-text">groupadd 命令创建组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groupadd-%E5%91%BD%E4%BB%A4%E6%8C%87%E5%AE%9A-GID-%E5%88%9B%E5%BB%BA%E7%BB%84"><span class="nav-number">2.1.3.</span> <span class="nav-text">groupadd 命令指定 GID 创建组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groupadd-%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%E7%B3%BB%E7%BB%9F%E7%BB%84"><span class="nav-number">2.1.4.</span> <span class="nav-text">groupadd 命令创建系统组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A6%86%E7%9B%96%E9%BB%98%E8%AE%A4-etc-login-defs-%E5%80%BC"><span class="nav-number">2.1.5.</span> <span class="nav-text">覆盖默认 &#x2F;etc&#x2F;login.defs 值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groupadd-%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AE%E7%BB%84%E5%AF%86%E7%A0%81"><span class="nav-number">2.1.6.</span> <span class="nav-text">groupadd 命令设置组密码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-number">2.2.</span> <span class="nav-text">删除用户组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#groupdel-%E5%91%BD%E4%BB%A4"><span class="nav-number">2.2.1.</span> <span class="nav-text">groupdel 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groupdel-%E5%91%BD%E4%BB%A4%E5%88%A0%E9%99%A4%E7%BB%84"><span class="nav-number">2.2.2.</span> <span class="nav-text">groupdel 命令删除组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">2.3.</span> <span class="nav-text">修改用户组的属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E8%BF%9B%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-number">2.4.</span> <span class="nav-text">将用户添加进用户组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-%E5%88%97%E5%87%BA%E7%BB%84%E4%B8%8E%E6%88%90%E5%91%98"><span class="nav-number">2.5.</span> <span class="nav-text">Linux 列出组与成员</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E7%BB%84"><span class="nav-number">2.5.1.</span> <span class="nav-text">列出所有组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#groups-%E5%91%BD%E4%BB%A4%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E7%BB%84"><span class="nav-number">2.5.2.</span> <span class="nav-text">groups 命令列出所有组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#id-%E5%91%BD%E4%BB%A4%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E7%BB%84"><span class="nav-number">2.5.3.</span> <span class="nav-text">id 命令列出所有组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E7%BB%84%E6%88%90%E5%91%98"><span class="nav-number">2.5.4.</span> <span class="nav-text">列出组成员</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E7%BB%84-1"><span class="nav-number">2.5.5.</span> <span class="nav-text">列出所有组</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Qeuroal"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Qeuroal</p>
  <div class="site-description" itemprop="description">大人者，不失其赤子之心</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">186</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Qeuroal" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Qeuroal" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://qeuroal.top/2023/12/30/188/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Qeuroal">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Qeuroal's Blog">
      <meta itemprop="description" content="大人者，不失其赤子之心">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="188. Linux用户与用户组 | Qeuroal's Blog">
      <meta itemprop="description" content="Linux用户管理与用户组管理">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          188. Linux用户与用户组
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-30 09:10:00" itemprop="dateCreated datePublished" datetime="2023-12-30T09:10:00+08:00">2023-12-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-08 14:36:58" itemprop="dateModified" datetime="2025-12-08T14:36:58+08:00">2025-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">Linux用户管理与用户组管理</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>Linux 系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</p>
<p>用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。</p>
<p>每个用户账号都拥有一个唯一的用户名和各自的口令。</p>
<p>用户在登录时键入正确的用户名和口令后，就能够进入系统和自己的主目录。</p>
<p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p>
<ul>
<li>用户账号的添加、删除与修改。</li>
<li>用户口令的管理。</li>
<li>用户组的管理。</li>
</ul>
<h1 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h1><h2 id="3种类型的用户"><a href="#3种类型的用户" class="headerlink" title="3种类型的用户"></a>3种类型的用户</h2><p>普通用户：普通用户是使用系统真实用户人群。普通用户通常把&#x2F;bin&#x2F;bash作为登录Shell和&#x2F;home的子目录作为主目录。一般情况下，普通用户只在自己的主目录和系统范围内的临时目录里（如&#x2F;tmp和&#x2F;var&#x2F;tmp）创建文件。在redhat企业版linux中，普通用户的用户ID数通常大于500.</p>
<p>root用户：用户ID为0的用户，也被称为超级用户，root用户在系统上拥有完全权限，可以修改和删除任何文件，可以运行任何命令，可以取消任何进程。root用户负责增加和保留其他用户、配置硬件、添加系统软件。虽然root用户可以在系统上的任何地方创建文件，但它也通常使用&#x2F;root作为主目录.</p>
<p>系统用户：大多数linux系统保留一系列低UID值用户作为系统用户，系统用户不代表人，而代表系统的组成部分。例如，运行Apache网络服务器的进程经常作为用户apache（ 见passwd文件中apache用户信息）来运行。系统用户一般没有登录Shell，因为它不代表实际登录的用户。同样，系统用户的主目录很少在&#x2F;home中，而通常在属于相关应用的系统目录中。例如，用户apache的主目录是&#x2F;var&#x2F;www。在redhat企业版linux中，系统用户的UID值范围在1-499之间。</p>
<h2 id="操作中常用linux命令"><a href="#操作中常用linux命令" class="headerlink" title="操作中常用linux命令"></a>操作中常用linux命令</h2><h3 id="检查进程用户ID"><a href="#检查进程用户ID" class="headerlink" title="检查进程用户ID"></a>检查进程用户ID</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xxx /]# ps -aux</span><br><span class="line">USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root           1  0.0  0.0 167664 13200 ?        Ss   Dec02   0:22 /lib/systemd/systemd --system --deserialize 91</span><br><span class="line">root           2  0.0  0.0      0     0 ?        S    Dec02   0:00 [kthreadd]</span><br><span class="line">root           3  0.0  0.0      0     0 ?        I&lt;   Dec02   0:00 [rcu_gp]</span><br><span class="line">root           4  0.0  0.0      0     0 ?        I&lt;   Dec02   0:00 [rcu_par_gp]</span><br><span class="line">root           5  0.0  0.0      0     0 ?        I&lt;   Dec02   0:00 [slub_flushwq]</span><br><span class="line">root           6  0.0  0.0      0     0 ?        I&lt;   Dec02   0:00 [netns]</span><br></pre></td></tr></table></figure>

<h3 id="根据用户名列出目录所有者"><a href="#根据用户名列出目录所有者" class="headerlink" title="根据用户名列出目录所有者"></a>根据用户名列出目录所有者</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xxx /]# ls -l</span><br><span class="line">drwxrwxr-x  5 qeuroal qeuroal 4096 Nov 21 00:12 Document</span><br><span class="line">drwxrwxr-x 13 qeuroal qeuroal 4096 Nov 24 04:22 vimart</span><br></pre></td></tr></table></figure>

<h3 id="根据用户ID列出目录所有者"><a href="#根据用户ID列出目录所有者" class="headerlink" title="根据用户ID列出目录所有者"></a>根据用户ID列出目录所有者</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xxx /]# ls -ln</span><br><span class="line">total 8</span><br><span class="line">drwxrwxr-x  5 1001 1001 4096 Nov 21 00:12 Document</span><br><span class="line">drwxrwxr-x 13 1001 1001 4096 Nov 24 04:22 vimart</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：linux内核不保存拥有文件的用户的用户名，保存的是用户ID，每次ls命令运行时，必须在&#x2F;etc&#x2F;passwd文件中查找用户名与用户ID映射，然后把用户名对应到内核所提供的用户ID上。</p>
</blockquote>
<h2 id="添加账号"><a href="#添加账号" class="headerlink" title="添加账号"></a>添加账号</h2><p>添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录 Shell 等资源。</p>
<h3 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h3><ul>
<li><p>命令格式: <code>useradd 选项 用户名</code></p>
<p> 参数说明:</p>
<ul>
<li><p>选项</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>comment</td>
<td>指定一段注释性描述。</td>
</tr>
<tr>
<td>-d</td>
<td>目录</td>
<td>指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。</td>
</tr>
<tr>
<td>-g</td>
<td>用户组</td>
<td>指定用户所属的用户组。</td>
</tr>
<tr>
<td>-G</td>
<td>用户组1,用户组2,…</td>
<td>指定用户所属的附加组。</td>
</tr>
<tr>
<td>-s</td>
<td>Shell文件</td>
<td>指定用户的登录Shell。</td>
</tr>
<tr>
<td>-u</td>
<td>用户号</td>
<td>指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。</td>
</tr>
</tbody></table>
</li>
<li><p>用户名: 指定新账号的登录名</p>
</li>
</ul>
</li>
<li><p>示例</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp16w4b9baac6xlzfcdmZ ~]<span class="comment"># useradd -s /bin/sh -g group –G adm,root newuser</span></span><br></pre></td></tr></table></figure>

<p> 此命令创建了一个用户newuser，其中-m选项用来为登录名newuser产生一个主目录 &#x2F;home&#x2F;newuser. 该用户的登录Shell是 &#x2F;bin&#x2F;sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。</p>
</li>
<li><p>理解</p>
<p> 加用户账号就是在 <code>/etc/passwd</code> 文件中为新用户增加一条记录，同时更新其他系统文件如 <code>/etc/shadow</code>, <code>/etc/group</code> 等。</p>
<p> 本质：<code>Linux</code> 中一切皆文件，这里的添加用户说白了就是往某一个文件中写入用户的信息了！<code>/etc/passwd</code></p>
</li>
</ul>
<h3 id="adduser"><a href="#adduser" class="headerlink" title="adduser"></a>adduser</h3><p>在 Ubuntu 中，有两个命令可用于创建新的用户。分别是 <code>useradd</code> 和 <code>adduser</code>。<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-create-users-in-linux-using-the-useradd-command/"><code>useradd</code></a>是一个用于添加用户的最普遍命令，所有发行版都支持。</p>
<p>而 <code>adduser</code> 是 <code>useradd</code> 的友好交互式前端，<code>adduser</code> 是用 Perl 语言编写的。我们建议如果你在编写 shell 脚本时使用 <a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-create-users-in-linux-using-the-useradd-command/">useradd</a> 添加用户。</p>
<p>如果你只是手动创建一个或者几个用户，在 ubuntu 中建议你使用 adduser，adduser 可以在一条命令完成创建用户的过程。</p>
<p>如果你需要在批量创建用户请参考我们的教程，<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-create-users-in-linux-using-the-useradd-command/">Linux useradd 命令创建用户</a>。</p>
<p>要在 Ubuntu 创建用户，请运行命令 <code>adduser</code>，后跟用户名作为参数。例如命令 <code>sudo adduser myfreax</code> 将会创建用户 myfreax。</p>
<p>命令将向你询问一系列的问题。密码是必需的，其他字段都是可选的。</p>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>使用 <code>sudo useradd newuser</code> 后 <code>/home</code> 里并没有 newuser 的目录。</p>
<p>查询得知，可以用 <code>useradd -m newuser</code>，但是 <code>-m</code> 这个命令只有在你创建用户的时候才有用。</p>
<p>如果已经创建了用户且没有目录的话，<code>useradd -m newuser</code> 是不会为用户创建目录的，也就是说必须删掉这个用户再重新 <code>useradd -m newuser</code> 才可以。</p>
<p><strong>但是！</strong>使用 <code>adduser</code> 的话直接 <code>adduser username</code> 也会有目录，不用像 <code>useradd</code> 那样用 <code>-m</code> 了。但是 <code>adduser</code> 一创建就会要求输入密码。<code>useradd</code> 创建的时候就不会要求输入密码。</p>
<h3 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h3><p><strong>Q: linux使用useradd创建的用户没有目录的解决办法</strong></p>
<p>A: 我使用 <code>sudo useradd newuser</code> 后 &#x2F;home里并没有 newuser的目录。查询百度得知，可以用 <code>useradd -m newuser</code>，但是<code>-m</code>这个命令只有在你创建用户的时候才有用。</p>
<p>如果已经创建了用户且没有目录的话，<code>useradd -m newuser</code>是不会为用户创建目录的，也就是说我必须删掉这个用户再重新<code>useradd -m newuser</code>才可以。这样的话会非常麻烦</p>
<p>目前我试了一下 <code>usermod -d /home/newuser -m newuser</code> 是没有效果的。</p>
<p><strong>但是！</strong>使用<code>adduser</code>的话直接<code>adduser username</code>也会有目录，不用像<code>useradd</code>那样用<code>-m</code>了。但是<code>adduser</code>一创建就会要求输入密码。<code>useradd</code>创建的时候就不会要求输入密码。</p>
<h2 id="删除帐号"><a href="#删除帐号" class="headerlink" title="删除帐号"></a>删除帐号</h2><p>如果不再需要用户，可以从命令行或通过 GUI 删除它。在 ubuntu 中删除用户方式也是有两种。</p>
<p>您可以使用两个命令来删除用户，分别是 <code>userdel</code> 和 <code>deluser</code>。在 Ubuntu，建议您使用 <code>deluser</code> 命令，因为它比 <code>userdel</code> 更友好。</p>
<p>同样在脚本中，我们建议你使用 <code>userdel</code> 而不是 <code>deluser</code>。因为其它发行版不存在 <code>deluser</code>。**<u><em><code>deluser</code> 仅在基于 Ubuntu 的发行版存在。</em></u>**</p>
<h3 id="userdel"><a href="#userdel" class="headerlink" title="userdel"></a>userdel</h3><p>要使用 <code>userdel</code> 命令删除用户，您需要以root或具有sudo访问权限的用户身份登录。</p>
<ul>
<li><p>命令的语法形式: <code>userdel [OPTIONS] USERNAME</code></p>
<p> <code>OPTIONS</code>是<code>userdel</code>命令的选项，可选参数，<code>USERNAME</code> 是用户名。</p>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>-r</code>&#x2F;<code>--remove</code></td>
<td>选项强制 <code>userdel</code> 命令删除用户的家目录和邮件。<br><code>userdel</code> 命令不会删除位于家目录之外的用户文件。您必须手动搜索并删除文件。</td>
</tr>
<tr>
<td><code>-f</code>&#x2F;<code>--force</code></td>
<td>即使用户仍在登录状态或者存在属于该用户正在运行的进程。</td>
</tr>
</tbody></table>
</li>
<li><p>示例</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo userdel -r username</span><br><span class="line">sudo userdel -f username</span><br></pre></td></tr></table></figure>
</li>
<li><p>流程详解</p>
<ol>
<li>在运行 userdel 命令时，<code>userdel</code> 命令将会读取<code>/etc/login.defs</code>文件内容。</li>
<li><a target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man5/login.defs.5.html"><code>/etc/login.defs</code></a>文件定义了 <code>userdel</code> 命令的默认行为。如果在此文件将<code>USERGROUPS_ENAB</code> 设置 为<code>yes</code>。</li>
<li><code>userdel</code> 命令将会删除与用户同名的组，通常是用户主要组，但前提是其他用户不是该组的成员。</li>
<li>最后 <code>userdel</code> 命令将从 <code>/etc/passwd</code> 和 <code>/etc/shadow</code> 文件中删除用户的记录。例如命令 <code>sudo userdel username</code> 将会删除用户 <code>username</code>。</li>
</ol>
</li>
<li><p>注意</p>
<ul>
<li><p>不允许删除用户的情况</p>
<p> 如果你要删除的用户在登录状态，或者存在属于该用户的正在运行的进程，<code>userdel</code> 命令将不允许您删除当前用户。</p>
<p> 在这种情况下，建议使用 <a target="_blank" rel="noopener" href="https://www.myfreax.com/how-does-linux-terminate-the-process/"><code>killall</code></a> 命令终止用户所有正在运行的进程并注销(登出&#x2F;退出)用户。完成后，您将能够删除该用户。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo killall -u username</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="deluser"><a href="#deluser" class="headerlink" title="deluser"></a>deluser</h3><p><code>deluser</code> 仅在指定用户参数时，<code>deluser</code> 将删除用户而不删除用户文件。如果你需要用户的家目录和邮件等信息请使用 <code>--remove-home</code> 选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo deluser --remove-home username</span><br></pre></td></tr></table></figure>

<h2 id="修改用户"><a href="#修改用户" class="headerlink" title="修改用户"></a>修改用户</h2><p><code>usermod</code> 是一个命令行程序，可让您修改用户的登录信息和所属组。</p>
<p>主要功能有: </p>
<ul>
<li>将用户加入到指定组。</li>
<li>更改用户默认的登录 Shell，UID，登录名，家目录，更改&#x2F;修改用户主要组，更改GECOS&#x2F;用户的全名信息。</li>
<li>修改用户的有效期限或者是到期日期，锁定或者解锁用户帐号，禁止用户登录。</li>
</ul>
<h3 id="usermod-命令"><a href="#usermod-命令" class="headerlink" title="usermod 命令"></a>usermod 命令</h3><p><code>usermod</code> 命令的语法形式是 <code>usermod [options] USER</code>。<code>options</code> 是 <code>usermod</code> 命令的选项，可选参数。<code>USER</code> 是 Linux 系统用户名。</p>
<p>只有root用户或具有 <a target="_blank" rel="noopener" href="https://www.myfreax.com/linux-sudo-command/">sudo 权限</a>的用户才能运行 <code>usermod</code> 命令并修改用户帐户。<code>usermod</code> 成功后不打印任何输出，且退出代码是0。</p>
<h3 id="添加用户到次要组"><a href="#添加用户到次要组" class="headerlink" title="添加用户到次要组"></a>添加用户到次要组</h3><p><code>usermod</code> 最典型的用例是将用户加入指定的组。要将用户添加到次要组，请使用usermod 命令的 <code>-a</code> 和 <code>-G</code> 选项，然后输入组的名称和用户名。</p>
<p>将用户添加次要组时，你应该始终使用 <code>-a</code> 选项追加。如果省略 <code>-a</code> 选项，则用户将从 <code>-G</code> 选项之后未列出的组中删除。</p>
<p>如果要一次将用户添加到多个组，请在 <code>-G</code> 选项指定多个组名称，并使用逗号<code>,</code>分隔。</p>
<p>例如命令 <code>sudo usermod -a -G games myfreax</code> 会将用户 <code>myfreax</code> 添加到 <code>games</code> 组。如果指定的用户或组不存在，<code>usermod</code> 命令将给出警告且退出代码不为0。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -a -G GROUP USER</span></span><br><span class="line">sudo usermod -a -G games myfreax</span><br></pre></td></tr></table></figure>

<h3 id="添加用户到次要组-方法2"><a href="#添加用户到次要组-方法2" class="headerlink" title="添加用户到次要组-方法2"></a>添加用户到次要组-方法2</h3><p>为了避免系统管理员（root）太忙碌，无法及时管理群组，我们可以使用 gpasswd 命令给群组设置一个群组管理员，代替 root 完成将用户加入或移出群组的操作。</p>
<p>gpasswd 命令的基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gpasswd 选项 组名</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>选项为空时，表示给群组设置密码，仅 root 用户可用。</td>
</tr>
<tr>
<td>-A user1,…</td>
<td>将群组的控制权交给 user1,… 等用户管理，也就是说，设置 user1,… 等用户为群组的管理员，仅 root 用户可用。</td>
</tr>
<tr>
<td>-M user1,…</td>
<td>将 user1,… 加入到此群组中，仅 root 用户可用。</td>
</tr>
<tr>
<td>-r</td>
<td>移除群组的密码，仅 root 用户可用。</td>
</tr>
<tr>
<td>-R</td>
<td>让群组的密码失效，仅 root 用户可用。</td>
</tr>
<tr>
<td>-a user</td>
<td>将 user 用户加入到群组中。</td>
</tr>
<tr>
<td>-d user</td>
<td>将 user 用户从群组中移除。</td>
</tr>
</tbody></table>
<p>为了避免系统管理员（root）太忙碌，无法及时管理群组，我们可以使用 gpasswd 命令给群组设置一个群组管理员，代替 root 完成将用户加入或移出群组的操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#创建新群组 group1，并将群组交给 lamp 管理</span><br><span class="line">[root@localhost ~]# groupadd group1  &lt;-- 创建群组</span><br><span class="line">[root@localhost ~]# gpasswd group1   &lt;-- 设置密码吧！</span><br><span class="line">Changing the password for group group1</span><br><span class="line">New Password:</span><br><span class="line">Re-enter new password:</span><br><span class="line">[root@localhost ~]# gpasswd -A lamp group1  &lt;==加入群组管理员为 lamp</span><br><span class="line">[root@localhost ~]# grep &quot;group1&quot; /etc/group /etc/gshadow</span><br><span class="line">/etc/group:group1:x:506:</span><br><span class="line">/etc/gshadow:group1:$1$I5ukIY1.$o5fmW.cOsc8.K.FHAFLWg0:lamp:</span><br></pre></td></tr></table></figure>

<p>可以看到，此时 lamp 用户即为 group1 群组的管理员。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#以lamp用户登陆系统，并将用户 lamp 和 lamp1 加入group1群组。</span><br><span class="line">[lamp@localhost ~]#gpasswd -a lamp group1</span><br><span class="line">[lamp@localhost ~]#gpasswd -a lamp1 group1</span><br><span class="line">[lamp@localhost ~]#grep &quot;group1&quot; /etc/group</span><br><span class="line">group1:x:506:lamp,lamp1</span><br></pre></td></tr></table></figure>



<h3 id="修改用户主要组"><a href="#修改用户主要组" class="headerlink" title="修改用户主要组"></a>修改用户主要组</h3><p>要更改用户的主要组，请使用 <code>usermod</code> 命令的 <code>-g</code> 选项，后跟组名称和用户名。每个用户<strong>仅有一个</strong>主要组，零个或多个次要组。</p>
<p>因此，如果你修改用户的主要组，用户将会离开与用户名同名的主要组。如果你只是让用户加入组拥有相应权限，请将用户添加到次要组。</p>
<p>例如命令 <code>sudo usermod -g developers myfreax</code> 用户 <code>myfreax</code> 的主要组更改为<code>developers</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#sudo usermod -g GROUP USER</span></span><br><span class="line">sudo usermod -g developers myfreax</span><br></pre></td></tr></table></figure>

<h3 id="修改用户信息"><a href="#修改用户信息" class="headerlink" title="修改用户信息"></a>修改用户信息</h3><p>要更改 GECOS 或者用户的全名信息，请使用 <code>-c</code> 选项，后跟新的注释和用户名。此信息存储在<code>/etc/passwd</code><a target="_blank" rel="noopener" href="https://www.myfreax.com/etc-passwd-file/">文件</a>中。</p>
<p>GECOS 信息通常用于记录帐户或用户的一般信息，例如他们的真实姓名和电话号码，也可以是自定义的任何信息。</p>
<p>例如命令 <code>sudo usermod -c &quot;Test User&quot; myfreax</code> 将会修改用户 myfreax 的 GECOS 信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -c &quot;GECOS Comment&quot; USER</span></span><br><span class="line">sudo usermod -c <span class="string">&quot;Test User&quot;</span> myfreax</span><br></pre></td></tr></table></figure>

<h3 id="修改用户家目录"><a href="#修改用户家目录" class="headerlink" title="修改用户家目录"></a>修改用户家目录</h3><p>在大多数 Linux 系统上，用户家目录以用户的名称作为目录的名称，并将其存在目录 &#x2F;home。</p>
<p>如果由于某种原因要更改用户的家目录。请使用 <code>usermod</code> 命令 <code>-d</code> 选项，后跟家目录的绝对路径和用户名。</p>
<p>默认情况下，<code>usermod</code> 命令不会将用户家目录的内容移至新的家目录。要移动家目录所有文件，请使用 <code>-m</code> 选项。如果新的家目录尚不存在，<code>usermod</code> 命令则会创建它。</p>
<p>例如命令 <code>usermod -d /var/www www-data</code> 会将 <code>www-data</code> 用户的家目录更改为<code>/var/www</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -d HOME_DIR USER</span></span><br><span class="line"><span class="comment">#usermod -d HOME_DIR -m USER</span></span><br><span class="line">usermod -d /var/www www-data</span><br></pre></td></tr></table></figure>

<h3 id="修改用户默认登录-Shell"><a href="#修改用户默认登录-Shell" class="headerlink" title="修改用户默认登录 Shell"></a>修改用户默认登录 Shell</h3><p>Shell 是 Linux&#x2F;UNIX 操作系统的用户和计算机的交互接口。可以让用户直接输入命令来执行各种各样的任务。可以运行 <a target="_blank" rel="noopener" href="https://www.myfreax.com/linux-cat-command/">cat 命令</a>查看 <code>/etc/shells</code> 文件的内容，找到系统可用的Shell。</p>
<p>默认 Shell 程序是登录系统后运行的 Shell 程序。在大多数Linux系统，默认 Shell 设置为 Bash Shell。</p>
<p>要更改用户的默认 Shell 程序，请使用 usermod 命令的 <code>-s</code> 选项。后跟 Shell 程序的绝对路径和用户名。</p>
<p>例如命令 <code>sudo usermod -s /usr/bin/zsh myfreax</code> 修改用户 myfreax 的默认 Shell 为Zsh。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -s SHELL USER</span></span><br><span class="line"><span class="built_in">cat</span> /etc/shells</span><br><span class="line">sudo usermod -s /usr/bin/zsh myfreax</span><br></pre></td></tr></table></figure>

<h3 id="usermod-命令修改用户UID"><a href="#usermod-命令修改用户UID" class="headerlink" title="usermod 命令修改用户UID"></a>usermod 命令修改用户UID</h3><p>UID用户标识符是分配给每个用户的号码。 操作系统使用它来指代用户。要更改用户UID，使用<code>-u</code>选项调用usermod命令，后接新的UID和用户名。</p>
<p>在修改用户的UID时，usermod命令将会帮助你修改用户在家目录拥有所有权的文件，包括用户的邮箱文件。其他文件的所有权必须手动更改。</p>
<p>例如命令<code>sudo usermod -u 1050 myfreax</code>，将会修改<code>myfreax</code>用户的UID为1050。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -u UID USER</span></span><br><span class="line">sudo usermod -u 1050 myfreax</span><br></pre></td></tr></table></figure>

<h2 id="修改用户名"><a href="#修改用户名" class="headerlink" title="修改用户名"></a>修改用户名</h2><p>尽管不是很经常，但有时您可能想要更改现有用户的名称。usermod 命令的 <code>-l</code> 选项允许你修改用户的名称。</p>
<p>在更改用户名时，您可能还希望修改用户的家目录名称以对应新的用户名变化。要修改用户家目录，请参考 usermod 命令更改用户家目录。</p>
<p>语法:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -l NEW_USER USER</span><br></pre></td></tr></table></figure>

<p>具体地, 使用 <code>usermod</code> 和 <code>groupmod</code> 实现用户名修订<a target="_blank" rel="noopener" href="https://cloud-atlas.readthedocs.io/zh-cn/latest/linux/admin/linux_rename_user.html#id2">¶</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 将pi用户名修改成希望的名字，例如我使用myfreax来替换pi</span><br><span class="line">usermod -l myfreax pi</span><br><span class="line">usermod -d /home/myfreax -m myfreax</span><br><span class="line">groupmod -n myfreax pi</span><br><span class="line"></span><br><span class="line"># 将自己的帐号加入到免密码sudo用户</span><br><span class="line">echo &quot;myfreax ALL=(ALL) NOPASSWD: ALL&quot; &gt; /etc/sudoers.d/010_pi-nopasswd</span><br><span class="line"># 千万不要忘记设置密码</span><br><span class="line">passwd myfreax </span><br></pre></td></tr></table></figure>

<blockquote>
<p>参考连接</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://cloud-atlas.readthedocs.io/zh-cn/latest/linux/admin/linux_rename_user.html">https://cloud-atlas.readthedocs.io/zh-cn/latest/linux/admin/linux_rename_user.html</a></li>
<li><a target="_blank" rel="noopener" href="https://linuxtechlab.com/rename-user-in-linux-rename-home-directory/#google_vignette">https://linuxtechlab.com/rename-user-in-linux-rename-home-directory/#google_vignette</a></li>
</ul>
<p>简单来说:</p>
<ul>
<li><code>usermod -l new_username old_username</code> 修改用户名(会同时修改 <code>/etc/passwd</code> 和 <code>/etc/group</code> )</li>
<li><code>usermod -d /home/new_username -m new_username</code> 修改用户目录名</li>
<li><code>usermod -u 2000 new_username</code> 修改用户uid</li>
<li><code>groupmod -o -n new_groupname old_groupname</code> 修改用户组名</li>
</ul>
<h3 id="设置用户有效期限"><a href="#设置用户有效期限" class="headerlink" title="设置用户有效期限"></a>设置用户有效期限</h3><p>到期日期是禁用用户帐户的日期。要设置用户的到期日期，请使用 usemod 命令的 <code>-e</code> 选项。</p>
<p>到期日期必须使用格式 <code>YYYY-MM-DD</code>。要停止帐户的到期时间，请设置一个空的到期日期，表示永远不会到期。</p>
<p>如果你需要验证是否设置成功或者查看用户有效期，请运行命令 <code>chage -l</code> 命令查看用户的有效期。到期日期存储在 <code>/etc/shadow</code> 文件。</p>
<p>例如要在 <code>2022-02-21</code> 禁用用户 <code>myfreax</code>，请运行命令 <code>sudo usermod -e &quot;2022-02-21&quot; myfreax</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#sudo usermod -e DATE USER</span></span><br><span class="line">$ sudo usermod -e <span class="string">&quot;2022-02-21&quot;</span> myfreax</span><br><span class="line">$ sudo usermod -e <span class="string">&quot;&quot;</span> myfreax <span class="comment">#永远不会过期</span></span><br><span class="line">$ sudo chage -l myfreax</span><br><span class="line">Last password change					: Jul 24, 2018</span><br><span class="line">Password expires					: never</span><br><span class="line">Password inactive					: never</span><br><span class="line">Account expires						: never</span><br><span class="line">Minimum number of days between password change		: 0</span><br><span class="line">Maximum number of days between password change		: 99999</span><br><span class="line">Number of days of warning before password expires	: 7</span><br></pre></td></tr></table></figure>

<h3 id="锁定和解锁用户帐户"><a href="#锁定和解锁用户帐户" class="headerlink" title="锁定和解锁用户帐户"></a>锁定和解锁用户帐户</h3><p>要锁定用户请使用 usermod 命令的 <code>-L</code> 选项，被锁定的用户将在加密密码的前面插入一个感叹号<code>!</code>。 要解锁用户，请使用 <code>usermod</code> 命令的 <code>-U</code> 选项。</p>
<p><code>/etc/shadow</code> 文件中的密码字段包含感叹号时，用户将无法使用密码登录到系统。 但仍然允许使用其他登录方法。</p>
<p>例如基于<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-setup-passwordless-ssh-login/">密钥的身份验证</a>或使用 <a target="_blank" rel="noopener" href="https://www.myfreax.com/su-command-in-linux/">su 命令</a>切换用户。如果要锁定用户并禁用所有登录方法，则还需要将到期日期设置为 1。</p>
<p>例如命令 <code>sudo usermod -L myfreax</code> 将会锁定用户<code>myfreax</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -L USER</span></span><br><span class="line">sudo usermod -L myfreax</span><br></pre></td></tr></table></figure>

<p>命令 <code>sudo usermod -L -e 1 myfreax</code> 锁定 myfreax 用户并禁用所有登录方法。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -L -e 1 myfreax</span><br></pre></td></tr></table></figure>

<p>命令 <code>sudo usermod -U myfreax</code> 解锁myfreax用户。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#usermod -U USER</span></span><br><span class="line">sudo usermod -U myfreax</span><br></pre></td></tr></table></figure>

<h2 id="超级用户"><a href="#超级用户" class="headerlink" title="超级用户"></a>超级用户</h2><p>默认情况下，在 Ubuntu，sudo 组的成员被授予 sudo 访问权限。如果您希望新创建的用户具有 sudo 权限，<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-linux-adds-users-to-a-group/">请将用户添加到 sudo 组</a>。</p>
<p>修改用户所属组的命令是 <a target="_blank" rel="noopener" href="https://www.myfreax.com/usermod-command-in-linux/">usermod 命令</a>，我们不建议直接修改用户主要组。这可能导致某些权限问题。最好的方式将用户追加到 sudo 组中。</p>
<p>因此你将使用 usermod 命令的 <code>-aG</code> 选项，添加用户到 sudo 组，<code>-a</code> 表示追加用户到指定组，<code>-G</code> 选项表示不要将用户从其它组中移除。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG sudo username</span><br></pre></td></tr></table></figure>

<ul>
<li><code>usermod</code> 更改用户的属性和权限；</li>
<li><code>-a</code> 选项表示将用户追加到给定组，但是不将其从现有组中删除。如果没有 <code>-a</code> 选项，该用户将会被从其现有组中删除；</li>
<li><code>-G</code> 选项列明要添加用户的组，在我们的例子中，它是 “sudo”。</li>
</ul>
<h3 id="验证-sudo-权限"><a href="#验证-sudo-权限" class="headerlink" title="验证 sudo 权限"></a>验证 sudo 权限</h3><p>现在，我们需要验证用户是否被赋予了 sudo 权限。这个验证的方式有很多，我们在这里使用如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l -U &lt;username&gt;</span><br></pre></td></tr></table></figure>

<p>在上述命令的输出中，末尾你会看到是否可以 sudo 权限运行所有命令：<code>(ALL : ALL) ALL</code>，如下图所示：</p>
<img data-src="/2023/12/30/188/640-20240110082317029.png" class="" title="图片">

<p>或者，你也可以在命令行中切换到新用户中，然后尝试运行 sudo 命令，看是否成功。</p>
<p>这样，我们就创建了一个 sudo 权限的用户。</p>
<h2 id="查看所有用户"><a href="#查看所有用户" class="headerlink" title="查看所有用户"></a>查看所有用户</h2><h3 id="查看-etc-passwd-来查看系统中的用户"><a href="#查看-etc-passwd-来查看系统中的用户" class="headerlink" title="查看 &#x2F;etc&#x2F;passwd 来查看系统中的用户"></a>查看 &#x2F;etc&#x2F;passwd 来查看系统中的用户</h3><p>使用 less 查看 &#x2F;etc&#x2F;passwd 允许系统操作列出在本地存储的系统用户，它以结构化的方式输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line">lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin</span><br><span class="line">mail:x:8:8:mail:/var/mail:/usr/sbin/nologin</span><br><span class="line">news:x:9:9:news:/var/spool/news:/usr/sbin/nologin</span><br><span class="line">johndoe:x:1000:1000:John Doe,,,:/home/helder:/bin/bash</span><br><span class="line">davmail:x:127:65534::/var/lib/davmail:/usr/sbin/nologin</span><br><span class="line">statd:x:128:65534::/var/lib/nfs:/usr/sbin/nologin</span><br><span class="line">/etc/passwd (END)</span><br></pre></td></tr></table></figure>

<p>我们对上述输出做一个简单的整理：</p>
<ul>
<li>用户名（user name）；</li>
<li>加密的密码（Encrypted password，x 表示密码已经存储）；</li>
<li>用户ID（User ID, 即UID）；</li>
<li>用户组ID（GID）；</li>
<li>用户全名称；</li>
<li>用户主目录；</li>
<li>用户的登录shell（默认为 bash shell）。</li>
</ul>
<p><strong>为什么会有这么多用户呢？哪些是“真实的”？</strong></p>
<p>上述命令输出的用户数量比我们预想的要多，因为它列出了所有的系统用户。可以参考用户标识符（UID）来区分普通用户和系统用户。</p>
<p>通常，<strong>普通用户的UID大于（或等于）1000</strong>，也就是说<strong>UID&gt;&#x3D;1000的用户为普通用户，UID&lt;1000的用户为系统用户。</strong></p>
<p>在上述输出中，我们还可以看到有些用户在行尾标注有 “<code>nologin</code>”，这表示这些用户无法登录系统，通常这些用户被称为“伪用户”。</p>
<h3 id="使用-getent-passwd-查看用户"><a href="#使用-getent-passwd-查看用户" class="headerlink" title="使用 getent passwd 查看用户"></a>使用 getent passwd 查看用户</h3><p>这个命令的输出与 <code>less /etc/passwd</code> 类似，但它实际上查询 GNU名称服务交换功能配置文件(GUN Name Service Switch)，该文件位于 <code>/etc/nsswitch.conf</code>。</p>
<p>这个配置包含 passwd，所以他们的输出很类似。但是如果你使用 LDAP 进行身份验证，那么它的输出中会包含方法1 中的输出。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getent passwd</span><br></pre></td></tr></table></figure>

<p>其输出如下图所示：</p>
<img data-src="/2023/12/30/188/640-20240110082613399.png" class="" title="图片">

<h3 id="使用-compgen-查看用户"><a href="#使用-compgen-查看用户" class="headerlink" title="使用 compgen 查看用户"></a>使用 compgen 查看用户</h3><p>如果只想列出用户名（而不包含其他的附加信息），可以使用带有 <code>-u</code> 选项的 <code>compgen</code> 命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compgen -u</span><br></pre></td></tr></table></figure>

<p>其输出如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ compgen -u</span><br><span class="line">root</span><br><span class="line">daemon</span><br><span class="line">bin</span><br><span class="line">sys</span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line">games</span><br><span class="line">man</span><br><span class="line">lp</span><br><span class="line">mail</span><br><span class="line">news</span><br><span class="line">uucp</span><br><span class="line">proxy</span><br><span class="line">www-data</span><br><span class="line">backup</span><br><span class="line">list</span><br><span class="line">irc</span><br><span class="line">gnats</span><br><span class="line">nobody</span><br><span class="line">systemd-network</span><br><span class="line">systemd-resolve</span><br><span class="line">syslog</span><br><span class="line">messagebus</span><br><span class="line">_apt</span><br><span class="line">uuidd</span><br><span class="line">avahi-autoipd</span><br><span class="line">usbmux</span><br><span class="line">dnsmasq</span><br><span class="line">rtkit</span><br><span class="line">cups-pk-helper</span><br><span class="line">speech-dispatcher</span><br><span class="line">whoopsie</span><br><span class="line">kernoops</span><br><span class="line">saned</span><br><span class="line">pulse</span><br><span class="line">avahi</span><br><span class="line">colord</span><br><span class="line">hplip</span><br><span class="line">geoclue</span><br><span class="line">gnome-initial-setup</span><br><span class="line">gdm</span><br></pre></td></tr></table></figure>

<p>注：你可以使用 <code>compgen</code> 命令和 <code>-c</code> 选项列出所有可用的命令。如果你不是Linux系统的管理员并且没有sudo访问权限时，这将非常有用。</p>
<h3 id="只列出用户名"><a href="#只列出用户名" class="headerlink" title="只列出用户名"></a>只列出用户名</h3><p>我们知道使用 <code>compgen</code> 命令可以只列出用户名，但这不是唯一的方法。还可以使用 awk 命令或者 cut 命令来过滤前两种方法的输出来得到用户名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cut</span> -d: -f1 /etc/passwd</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getent passwd | awk -F: <span class="string">&#x27;&#123; print $1&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>上述两个命令都可以为我们提供一个过滤后的用户名列表：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root</span><br><span class="line">daemon</span><br><span class="line">bin</span><br><span class="line">sys</span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line">games</span><br><span class="line">man</span><br><span class="line">lp</span><br><span class="line">mail</span><br><span class="line">news</span><br><span class="line">johndoe</span><br><span class="line">davmail</span><br><span class="line">statd</span><br></pre></td></tr></table></figure>

<h3 id="检查某个用户是否已存在于系统中"><a href="#检查某个用户是否已存在于系统中" class="headerlink" title="检查某个用户是否已存在于系统中"></a>检查某个用户是否已存在于系统中</h3><p>如果我们想要查看系统中是否存在某一个用户名，可以使用如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getent passwd | grep johndoe</span><br></pre></td></tr></table></figure>

<p>输出如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">johndoe:x:1000:1000:John Doe,,,:/home/johndoe:/bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="列出所有在线用户"><a href="#列出所有在线用户" class="headerlink" title="列出所有在线用户"></a>列出所有在线用户</h3><p>如果我们想要查看当前哪些用户已经登录到当前的 Linux 系统中，可以使用 who 命令，它将会列出当前已连接到系统中的用户名与其活动会话：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">user@system:~$ <span class="built_in">who</span></span><br><span class="line">johndoe   :0           2019-01-28 21:35 (:0)</span><br><span class="line">harrysmith   pts/0        2019-02-01 09:51 (192.168.1.1)</span><br><span class="line">stevejones   pts/1        2019-02-02 09:51 (192.168.1.173)</span><br></pre></td></tr></table></figure>

<p>上述输出不仅会列出已连接到系统的用户名，而且还会显示其是如何连接的，以及何时、从何处开始连接的。</p>
<ul>
<li>第一列即为用户名。</li>
<li>第二列显示它的连接类型；如果是“<code>:N</code>”形式的，其中<code>N</code>是一个数字，那么表示是使用图形用户界面（GUI）或桌面会话，比如Gnome，XDE等；如果显示的是“<code>pts/N</code>”形式的，其中<code>N</code>是一个数字，则表示它是通过 <code>ssh</code> 协议（命令行）建立的连接。</li>
<li>第三列显示其连接到系统的开始时间（日期和时间）；</li>
<li>第四列和最后一列显示连接的位置，如果是远程连接，它会显示进行连接的IP地址，如果是本地（如GUI），它会显示 “(<code>:N</code>)”，其中 <code>N</code> 是本列中的会话编号，与第二列中的编号相匹配。</li>
</ul>
<h1 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h1><p>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理（开发、测试、运维、root）。不同 Linux 系统对用户组的规定有所不同，如 Linux 下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。</p>
<p>用户组的管理涉及用户组的添加、删除和修改。<strong>组的增加、删除和修改实际上就是对 <code>/etc/group</code> 文件的更新。</strong></p>
<p>在 Linux，组用于组织和管理用户帐户。组的主要目的是为指定的资源定义权限并在组内用户之间共享权限。例如读取，写入或执行<a target="_blank" rel="noopener" href="https://www.myfreax.com/chmod-command-in-linux/">权限</a>。</p>
<h2 id="添加用户组"><a href="#添加用户组" class="headerlink" title="添加用户组"></a>添加用户组</h2><p>使用 groupadd 命令创建组。只有root用户或具有 sudo 权限的用户才能创建组。</p>
<h3 id="groupadd-命令"><a href="#groupadd-命令" class="headerlink" title="groupadd 命令"></a>groupadd 命令</h3><p>groupadd 命令的语法形式是 <code>groupadd [OPTIONS] GROUPNAME</code>。<code>OPTIONS</code> groupadd 命令的选项，<code>GROUPNAME</code> 组的名称。</p>
<p>当运行 groupadd 命令时，groupadd 命令将会根据指定的选项以及 <code>/etc/login.defs</code> 文件中指定的默认值创建组。</p>
<h3 id="groupadd-命令创建组"><a href="#groupadd-命令创建组" class="headerlink" title="groupadd 命令创建组"></a>groupadd 命令创建组</h3><p>要创建新的组，请运行 groupadd 命令，然后输入组的名称。命令创建组的记录并添加到文件 <code>/etc/group</code>  和 <code>/etc/gshadow</code>。</p>
<p>如果已经存在相同名称的组，终端将会打印错误消息 groupadd: group ‘mygroup’ already exists。</p>
<p>如果禁用错误消息的输出，请使用 <code>-f</code> &#x2F; <code>--force</code> 选项强制创建组。<code>groupadd -f mygroup</code> 命令创建组 <code>mygroup</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd mygroup</span><br><span class="line">groupadd -f mygroup</span><br></pre></td></tr></table></figure>

<h3 id="groupadd-命令指定-GID-创建组"><a href="#groupadd-命令指定-GID-创建组" class="headerlink" title="groupadd 命令指定 GID 创建组"></a>groupadd 命令指定 GID 创建组</h3><p>在 Linux&#x2F;Unix 操作系统，组由其名称和唯一的 GID 标识。默认情况下，创建组时，系统会从 <code>/etc/login.defs</code> 文件确定下一个可用的 GID。</p>
<p>如果需要创建具有指定 GID 的组，请使用 groupadd 命令的 <code>-g</code>&#x2F;<code>--gid</code> 选项创建组。</p>
<p>当指定 GID 的组已经存在时，groupadd 命令将会打印错误消息，groupadd: GID ‘1010’ already exists。</p>
<p>你也可以使用 groupadd 命令的 <code>-o</code>&#x2F;<code>--non-unique</code> 选项，创建具有非唯一GID的组，但 <strong>Linux 系统管理员是很少这样做的。</strong></p>
<p>例如<code>groupadd -g 1010 mygroup</code>将会创建<code>mygroup</code>并指定GID <code>1010</code>。要验证组是否创建成功，可以运行命令<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-list-groups-in-linux/">列出所有组</a>并使用<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-use-grep-command-to-search-files-in-linux/">grep</a>命令过滤结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">groupadd -g 1010 mygroup</span><br><span class="line"><span class="comment">#groupadd -o -g 1010 mygroup</span></span><br><span class="line">getent group | grep mygroup</span><br><span class="line">mygroup:x:1010:</span><br></pre></td></tr></table></figure>

<h3 id="groupadd-命令创建系统组"><a href="#groupadd-命令创建系统组" class="headerlink" title="groupadd 命令创建系统组"></a>groupadd 命令创建系统组</h3><p>系统和普通组之间没有真正的区别。通常，系统组用于某些特殊的系统操作目的，例如创建备份或进行系统维护。</p>
<p>系统组的 GID 是从  <code>/etc/login.defs</code> 文件指定的ID范围选择，该范围不同于普通组的范围。要创建系统组请使用 groupadd 命令的<code>-r</code>&#x2F;<code>--system</code>选项创建组。</p>
<p>例如命令 <code>groupadd -r mysystemgroup</code> 创建系统组 <code>mysystemgroup</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd -r mysystemgroup</span><br></pre></td></tr></table></figure>

<h3 id="覆盖默认-etc-login-defs-值"><a href="#覆盖默认-etc-login-defs-值" class="headerlink" title="覆盖默认 &#x2F;etc&#x2F;login.defs 值"></a>覆盖默认 &#x2F;etc&#x2F;login.defs 值</h3><p>您也可以覆盖创建组时用于自动选择 GID 的最大值和最小值的范围，此值都可以为系统组和普通组指定。</p>
<p>groupadd 命令的 <code>-K</code>&#x2F;<code>--key</code> 选项使您可以覆盖 <code>/etc/login.defs</code> 文件中指定的默认值。</p>
<p>假设您要创建 GID 是在 1200 至 1500 之间的组，在运行 groupadd 命令创建组时，请指定最小&#x2F;最大值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd -K GID_MIN=1200 -K GID_MAX=1500 mygroup</span><br></pre></td></tr></table></figure>

<h3 id="groupadd-命令设置组密码"><a href="#groupadd-命令设置组密码" class="headerlink" title="groupadd 命令设置组密码"></a>groupadd 命令设置组密码</h3><p>向组中添加密码没有实际用途，并且可能会导致安全问题，因为多个用户需要知道该密码。</p>
<p>如需要为组设置密码，可以使用 groupadd 命令的 <code>-p</code>&#x2F;<code>--password</code> 选项，后跟组的密码，可让你为创建的组设置密码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd -p grouppassword mygroup</span><br></pre></td></tr></table></figure>

<h2 id="删除用户组"><a href="#删除用户组" class="headerlink" title="删除用户组"></a>删除用户组</h2><p>如果不再需要一个组，可以将其从 Linux 系统删除。</p>
<h3 id="groupdel-命令"><a href="#groupdel-命令" class="headerlink" title="groupdel 命令"></a>groupdel 命令</h3><p>groupdel命令的语法形式是 <code>groupdel [OPTIONS] GROUPNAME</code>。<code>OPTIONS</code> 是 groupdel 命令的选项，可选参数。 <code>GROUPNAME</code>是您要删除的组名称。</p>
<p>只有 root 用户或具有 <a target="_blank" rel="noopener" href="https://www.myfreax.com/sudo-command-in-linux/">sudo</a> 权限的用户才可以删除组。如果不先删除用户，则无法删除用户的主要组。</p>
<p>groupdel 命令仅接受很少使用的一些选项。命令选项的更多信息，请阅读 groupdel 手册页。</p>
<h3 id="groupdel-命令删除组"><a href="#groupdel-命令删除组" class="headerlink" title="groupdel 命令删除组"></a>groupdel 命令删除组</h3><p>要从 Linux 系统中删除指定的组，请运行 groupdel 命令，后跟组名称。</p>
<p>groupdel 命令将从 <code>/etc/group</code> 和 <code>/etc/gshadow</code> 文件删除组的信息。成功后，groupdel 命令不会打印任何输出。</p>
<p>例如命令 <code>groupdel mygroup</code> 将会删除<code>mygroup</code>组，要来验证组是否已删除，可以运行命令 <a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-list-groups-in-linux/"><code>getent group</code> 列出所有组</a>。</p>
<p>然后使用 <a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-use-grep-command-to-search-files-in-linux/">grep 命令</a>搜索 getent 命令的<a target="_blank" rel="noopener" href="https://www.myfreax.com/stdout-stdin-and-redirection/">标准输出</a>过滤结果。如果您要删除的群组不存在，则没有任何输出。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupdel mygroup</span><br><span class="line">getent group | grep mygroup</span><br></pre></td></tr></table></figure>

<h2 id="修改用户组的属性"><a href="#修改用户组的属性" class="headerlink" title="修改用户组的属性"></a>修改用户组的属性</h2><p>使用 <code>groupmod</code> 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod 选项 用户组</span><br></pre></td></tr></table></figure>

<p>常用的选项有：</p>
<ul>
<li><code>-g GID</code> 为用户组指定新的组标识号。</li>
<li><code>-o</code> 与 <code>-g</code> 选项同时使用，用户组的新 <code>GID</code> 可以与系统已有用户组的 <code>GID</code> 相同。</li>
<li><code>-n</code> 新用户组 将用户组的名字改为新名字</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 此命令将组group2的组标识号修改为102。</span><br><span class="line">groupmod -g 102 group2</span><br><span class="line"></span><br><span class="line"># 将组group2的标识号改为10000，组名修改为group3。</span><br><span class="line">groupmod –g 10000 -n group3 group2</span><br></pre></td></tr></table></figure>

<h2 id="将用户添加进用户组"><a href="#将用户添加进用户组" class="headerlink" title="将用户添加进用户组"></a>将用户添加进用户组</h2><p>见<a href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E6%AC%A1%E8%A6%81%E7%BB%84">方法1</a>和<a href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E6%AC%A1%E8%A6%81%E7%BB%84-%E6%96%B9%E6%B3%952">方法2</a></p>
<h2 id="Linux-列出组与成员"><a href="#Linux-列出组与成员" class="headerlink" title="Linux 列出组与成员"></a>Linux 列出组与成员</h2><p>在Linux，组是用户的集合。组的主要目的是为指定资源定义一组权限。</p>
<p>例如读，写或执行权限，这些权限可以在组内的用户之间共享。可以将用户<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-add-user-to-group-in-linux/">加入组</a>，并授予组的权限。</p>
<p>用户可以拥有属于两种类型的组，分别是主要组和次要组。</p>
<p>通常，主要组的名称与用户的名称相同。每个用户拥有一个主要组。次要组用于向一组用户授予权限。次要组的成员可以是零个或多个。</p>
<h3 id="列出所有组"><a href="#列出所有组" class="headerlink" title="列出所有组"></a>列出所有组</h3><p>有多种方法可以找出用户所属的组。用户主要组存储在<code>/etc/passwd</code>文件中，次要组在<code>/etc/group</code>文件中列出。</p>
<p>找到用户组的一种方法是查看这些文件的内容，你可使用<a target="_blank" rel="noopener" href="https://www.myfreax.com/linux-cat-command/"><code>cat</code></a>，<a target="_blank" rel="noopener" href="https://www.myfreax.com/less-command-in-linux/"><code>less</code></a>或<a target="_blank" rel="noopener" href="https://www.myfreax.com/how-to-use-grep-command-to-search-files-in-linux/"><code>grep</code></a>命令查看两个文件的内容。</p>
<p>另一个更简单的选择是使用groups命令，groups命令的目的是提供系统用户和组的信息。</p>
<h3 id="groups-命令列出所有组"><a href="#groups-命令列出所有组" class="headerlink" title="groups 命令列出所有组"></a>groups 命令列出所有组</h3><p>列出用户所属的所有组的最常用的命令是<code>groups</code>。当不带任何参数运行<code>groups</code>命令时。</p>
<p><code>groups</code>命令将打印当前登录用户所属的所有组。第一个是主要组，其它都是次要组。</p>
<p>如需要获取指定用户所属的组，请为<code>groups</code>命令提供用户名作为参数。同样第一个是用户的主要组，其它都是次要组。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">groups</span></span><br><span class="line"><span class="built_in">groups</span> myfreax</span><br><span class="line">myfreax adm cdrom sudo dip plugdev lpadmin sambashare</span><br></pre></td></tr></table></figure>

<h3 id="id-命令列出所有组"><a href="#id-命令列出所有组" class="headerlink" title="id 命令列出所有组"></a>id 命令列出所有组</h3><p><code>id</code>命令显示指定用户及其所属组的信息。如果省略用户名，则会显示当前用户的信息。</p>
<p>要仅打印名称而不包含用户和组ID，请使用<code>-n</code>选项。 <code>-g</code>选项将仅打印主要组，<code>-G</code>选项将打印所有组。例如命令<code>id -nG myfreax</code>将打印当前用户所属的组的名称。</p>
<p>例如，要获取用户<code>myfreax</code>的信息，请运行命令<code>id myfreax</code>。命令将显示用户名<code>uid</code>，用户的主要组<code>gid</code>和用户的次要组<code>groups</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">id</span> myfreax</span><br><span class="line"><span class="built_in">id</span> -nG myfreax</span><br><span class="line">uid=1001(myfreax) gid=1001(myfreax) <span class="built_in">groups</span>=1001(myfreax),27(sudo)</span><br></pre></td></tr></table></figure>

<h3 id="列出组成员"><a href="#列出组成员" class="headerlink" title="列出组成员"></a>列出组成员</h3><p>要列出组的所有成员，请使用<code>getent group</code>命令，后跟组名称。如果该组存在，<code>getent group</code>命令将打印指定组名称及其所有成员。</p>
<p>例如，要查找<code>developers</code>组的成员，请运行命令<code>getent group developers</code>。如果没有输出，则表示该组不存在。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getent group developers</span><br><span class="line">developers:x:126:frank,mary</span><br></pre></td></tr></table></figure>

<h3 id="列出所有组-1"><a href="#列出所有组-1" class="headerlink" title="列出所有组"></a>列出所有组</h3><p>要查看系统上存在的所有组，只需使用<a target="_blank" rel="noopener" href="https://www.myfreax.com/linux-cat-command/">cat命令</a>或<a target="_blank" rel="noopener" href="https://www.myfreax.com/less-command-in-linux/">less命令</a>查看<code>/etc/group</code>文件即可。该文件中的每一行代表一个组的信息。</p>
<p>另一个选择是使用<code>getent</code>命令，<code>getent</code>命令显示<code>/etc/nsswitch.conf</code>文件中的组数据记录，可用于查询所有组的数据。</p>
<p>如果要在&#x2F;etc&#x2F;group文件获取所有组，请运行命令<code>less /etc/group</code>。要使用<code>getent</code>命令获取所有组，请运行命令<code>getent group</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">less /etc/group</span><br><span class="line">getent group</span><br></pre></td></tr></table></figure>

<p>输出与<code>/etc/group</code>文件内容相同。如果您使用LDAP进行用户身份验证，<code>getent</code>命令将显示<code>/etc/group</code>文件和LDAP数据库中的所有组。</p>
<p>您也可以<a target="_blank" rel="noopener" href="https://www.myfreax.com/awk-command/">使用<code>awk</code></a>或<code>cut</code>只打印第一列，也就是仅打印组的名名称。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getent group | awk -F: <span class="string">&#x27;&#123; print $1&#125;&#x27;</span></span><br><span class="line">getent group | <span class="built_in">cut</span> -d: -f1</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Qeuroal
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="http://qeuroal.top/2023/12/30/188/" title="188. Linux用户与用户组">http://qeuroal.top/2023/12/30/188/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/linux/" rel="tag"><i class="fa fa-tag"></i> linux</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/12/30/187/" rel="prev" title="187. Linux文件">
                  <i class="fa fa-angle-left"></i> 187. Linux文件
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/01/01/189/" rel="next" title="189. Linux中的命令之大杂烩">
                  189. Linux中的命令之大杂烩 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Qeuroal</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/Qeuroal" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.24/fancybox/fancybox.umd.js" integrity="sha256-oyhjPiYRWGXaAt+ny/mTMWOnN1GBoZDUQnzzgC7FRI4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
